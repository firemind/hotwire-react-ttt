<div id="board" data-controller="board" data-active-player="<%= game.active_player %>" <%= 'data-finished="true"' if game.finished? %>>
  <% game.squares.each_slice(3).each_with_index do |row, rix| %>
    <div class="board-row">
      <% row.each_with_index do |square, ix| %>
        <% if square.blank? %>
          <%= button_to square, play_game_path(game, field: rix * 3 + ix), method: :patch, class: "square" %>
        <% else %>
          <button class="square"><%=square %></button>
        <% end %>

      <% end %>
    </div>
  <% end %>
</div>

<% if game.finished %>
  <p><b>Game Finished</b></p>
<% end %>